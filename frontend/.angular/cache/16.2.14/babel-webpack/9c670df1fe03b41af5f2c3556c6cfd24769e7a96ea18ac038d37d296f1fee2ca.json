{"ast":null,"code":"import isUrl from 'is-url';\nimport { tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../website.service\";\nimport * as i3 from \"@angular/common\";\nfunction WebsiteDetailComponent_div_0_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, ctx_r1.website.lastEvaluationDate, \"dd/MM/yyyy HH:mm:ss\"));\n  }\n}\nfunction WebsiteDetailComponent_div_0_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Sem Avalia\\u00E7\\u00F5es\");\n  }\n}\nfunction WebsiteDetailComponent_div_0_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.resultMessage);\n  }\n}\nfunction WebsiteDetailComponent_div_0_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 13)(2, \"span\", 4);\n    i0.ɵɵtext(3, \"P\\u00E1ginas: \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction WebsiteDetailComponent_div_0_tr_46_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const page_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, page_r8.lastEvaluationDate, \"dd/MM/yyyy HH:mm:ss\"));\n  }\n}\nfunction WebsiteDetailComponent_div_0_tr_46_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Sem Avalia\\u00E7\\u00F5es\");\n  }\n}\nfunction WebsiteDetailComponent_div_0_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, WebsiteDetailComponent_div_0_tr_46_ng_container_4_Template, 3, 4, \"ng-container\", 5);\n    i0.ɵɵtemplate(5, WebsiteDetailComponent_div_0_tr_46_ng_template_5_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const page_r8 = ctx.$implicit;\n    const _r10 = i0.ɵɵreference(6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(page_r8.url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", page_r8.lastEvaluationDate)(\"ngIfElse\", _r10);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(page_r8.monitoringStatus);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"fa-sort-up\": a0,\n    \"fa-sort-down\": a1\n  };\n};\nfunction WebsiteDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"div\", 3)(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"span\", 4);\n    i0.ɵɵtext(7, \"Id:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"span\", 4);\n    i0.ɵɵtext(11, \"Url:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\")(14, \"span\", 4);\n    i0.ɵɵtext(15, \"Data de Registro:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\")(19, \"span\", 4);\n    i0.ɵɵtext(20, \"\\u00DAltima Avalia\\u00E7\\u00E3o: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, WebsiteDetailComponent_div_0_ng_container_21_Template, 3, 4, \"ng-container\", 5);\n    i0.ɵɵtemplate(22, WebsiteDetailComponent_div_0_ng_template_22_Template, 1, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(24, \"hr\");\n    i0.ɵɵelementStart(25, \"div\", 7);\n    i0.ɵɵelement(26, \"input\", 8, 9);\n    i0.ɵɵelementStart(28, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function WebsiteDetailComponent_div_0_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const _r4 = i0.ɵɵreference(27);\n      const ctx_r13 = i0.ɵɵnextContext();\n      ctx_r13.add(_r4.value);\n      return i0.ɵɵresetView(_r4.value = \"\");\n    });\n    i0.ɵɵtext(29, \" Adicionar P\\u00E1gina \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 11);\n    i0.ɵɵtemplate(31, WebsiteDetailComponent_div_0_div_31_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"hr\");\n    i0.ɵɵtemplate(33, WebsiteDetailComponent_div_0_div_33_Template, 4, 0, \"div\", 0);\n    i0.ɵɵelementStart(34, \"div\", 13)(35, \"table\", 14)(36, \"thead\")(37, \"tr\")(38, \"th\");\n    i0.ɵɵtext(39, \"URL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"th\", 15);\n    i0.ɵɵlistener(\"click\", function WebsiteDetailComponent_div_0_Template_th_click_40_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.sortByLastEvaluationDate());\n    });\n    i0.ɵɵtext(41, \" \\u00DAltima Avalia\\u00E7\\u00E3o \");\n    i0.ɵɵelement(42, \"i\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"th\");\n    i0.ɵɵtext(44, \"Estado\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(45, \"tbody\");\n    i0.ɵɵtemplate(46, WebsiteDetailComponent_div_0_tr_46_Template, 9, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"div\", 18)(48, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function WebsiteDetailComponent_div_0_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.prevPage());\n    });\n    i0.ɵɵtext(49, \"Anterior\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"span\");\n    i0.ɵɵtext(51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function WebsiteDetailComponent_div_0_Template_button_click_52_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.nextPage());\n    });\n    i0.ɵɵtext(53, \"Pr\\u00F3ximo\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(23);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Detalhes de \", ctx_r0.website.url, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.website.id, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.website.url, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(17, 14, ctx_r0.website.registrationDate, \"dd/MM/yyyy HH:mm:ss\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.website.lastEvaluationDate)(\"ngIfElse\", _r2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.resultMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.website.pages);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c0, ctx_r0.lastEvaluationDateAsc, !ctx_r0.lastEvaluationDateAsc));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.website.pages.slice(ctx_r0.calculateIndex().startIndex, ctx_r0.calculateIndex().endIndex));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.currentPage === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"P\\u00E1gina: \", ctx_r0.currentPage, \" de \", ctx_r0.totalPages, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.currentPage === ctx_r0.totalPages);\n  }\n}\nexport class WebsiteDetailComponent {\n  constructor(route, websiteService, location) {\n    this.route = route;\n    this.websiteService = websiteService;\n    this.location = location;\n    this.resultMessage = '';\n    this.pageSize = 10;\n    this.currentPage = 1;\n    this.itemsPerPage = 10;\n    this.filteredPages = [];\n    this.pages = [];\n    this.lastEvaluationDateAsc = false;\n    this.filteredPages = this.pages;\n  }\n  ngOnInit() {\n    this.getWebsite();\n  }\n  getWebsite() {\n    const id = String(this.route.snapshot.paramMap.get('_id'));\n    this.websiteService.getWebsite(id).subscribe(website => this.website = website);\n  }\n  goBack() {\n    this.location.back();\n  }\n  isValidWebsite(url) {\n    return isUrl(url);\n  }\n  get totalPages() {\n    if (this.website) {\n      return Math.ceil(this.website.pages.length / this.pageSize);\n    } else {\n      return 0;\n    }\n  }\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n    }\n  }\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n    }\n  }\n  calculateIndex() {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = this.website && this.website.pages ? Math.min(startIndex + this.itemsPerPage, this.website.pages.length) : 0;\n    return {\n      startIndex,\n      endIndex\n    };\n  }\n  add(pageUrl) {\n    pageUrl;\n    if (!pageUrl) {\n      this.resultMessage = \"Por favor insira o URL do website\";\n    } else {\n      if (this.isValidWebsite(pageUrl)) {\n        var website = null;\n        this.websiteService.getWebsites().subscribe(websitesList => {\n          for (const web of websitesList) {\n            if (pageUrl.includes(web.url)) {\n              website = web;\n            }\n          }\n          if (website != null && this.website != null) {\n            if (website.url === this.website.url) {\n              this.websiteService.getPages().subscribe(pagesList => {\n                var inBD = false;\n                console.log(pagesList);\n                for (const page of pagesList) {\n                  if (pageUrl == page.url) {\n                    this.resultMessage = \"Página já no banco de dados\";\n                    inBD = true;\n                  }\n                }\n                if (!inBD) {\n                  var webPage = {\n                    url: pageUrl,\n                    monitoringStatus: 'Por avaliar'\n                  };\n                  this.websiteService.addPage(webPage).pipe(tap(response => {\n                    webPage = response;\n                  })).subscribe(() => {\n                    if (website) {\n                      website.pages.push(webPage);\n                      this.websiteService.updateWebsite(website).subscribe(response => {\n                        this.resultMessage = response;\n                      });\n                    }\n                  });\n                  // window.location.reload();\n                }\n              });\n            } else {\n              this.resultMessage = \"A página não faz parte do domínio do website\";\n            }\n          } else {\n            this.resultMessage = \"O site correspondente não existe no BD\";\n          }\n        });\n      } else {\n        this.resultMessage = \"URL inválido – formato de exemplo: https://www.example.com\";\n      }\n    }\n  }\n  sortByRegistrationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.registrationDateAsc ? 1 : -1;\n      return orderFactor * (new Date(a.registrationDate).getTime() - new Date(b.registrationDate).getTime());\n    });\n    this.registrationDateAsc = !this.registrationDateAsc;\n  }\n  static #_ = this.ɵfac = function WebsiteDetailComponent_Factory(t) {\n    return new (t || WebsiteDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.WebsiteService), i0.ɵɵdirectiveInject(i3.Location));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WebsiteDetailComponent,\n    selectors: [[\"app-website-detail\"]],\n    decls: 3,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"type\", \"button\", 1, \"back\", 3, \"click\"], [1, \"details-container\"], [1, \"details\"], [1, \"bold-text\"], [4, \"ngIf\", \"ngIfElse\"], [\"none\", \"\"], [1, \"new-page\"], [\"id\", \"new-page\", \"placeholder\", \"Adicionar uma nova p\\u00E1gina\"], [\"pageUrl\", \"\"], [\"type\", \"button\", 1, \"add-button\", 3, \"click\"], [1, \"result-container\"], [\"class\", \"result-message\", 4, \"ngIf\"], [1, \"website-pages\"], [1, \"pages-table\"], [3, \"click\"], [1, \"fas\", \"fa-sort\", 3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pagination\"], [1, \"prev-next\", \"prev-button\", 3, \"disabled\", \"click\"], [1, \"result-message\"]],\n    template: function WebsiteDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WebsiteDetailComponent_div_0_Template, 54, 20, \"div\", 0);\n        i0.ɵɵelementStart(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function WebsiteDetailComponent_Template_button_click_1_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵtext(2, \"Voltar\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.website);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i3.DatePipe],\n    styles: [\".new-website[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center; \\n}\\n\\n.bold-text[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n    margin-right: 10px; \\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    height: 30px;\\n    width: 20%;\\n    font-size: 16px;\\n}\\n\\n.result-container[_ngcontent-%COMP%] {\\n  height: 30px;\\n  margin-bottom: 10px;\\n}\\nh1[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    font-weight: bold;\\n    color: #333;\\n}\\n\\ndiv[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 10px;\\n}\\n\\n\\n.add-button[_ngcontent-%COMP%] {\\n    flex: none;\\n    padding: 10px 20px;\\n    background-color: #007AFF; \\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n}\\n\\n.add-button[_ngcontent-%COMP%]:hover {\\n    background-color: #0056B3;\\n}\\n.filter[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n  \\n  #sortingButtons[_ngcontent-%COMP%], #myBtnContainer[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n  }\\n  \\n  #sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #myBtnContainer[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    margin-right: 10px;\\n    padding: 10px 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    height: 55px;\\n    background-color: #fff;\\n    cursor: pointer;\\n    font-size: 16px;\\n  }\\n  \\n  #sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background-color: #007AFF;\\n    color: white;\\n    border: none;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  #sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #0056B3;\\n  }\\n\\n  .website-pages[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pages-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ddd;\\n    padding: 8px;\\n    text-align: left;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #f2f2f2;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n    background-color: #f9f9f9;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #007AFF;\\n    text-decoration: none;\\n  }\\n  \\n  .pages-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline;\\n  }\\n  .details-container[_ngcontent-%COMP%] {\\n    background-color: #f4f4f4;\\n    border-radius: 10px;\\n    padding: 20px;\\n    margin: 20px 0;\\n    max-width: 600px;\\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\\n    width: -moz-fit-content;\\n    width: fit-content; \\n    display: inline-block; \\n  }\\n  \\n  .details[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    color: #333;\\n  }\\n  \\n  .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    margin-bottom: 20px;\\n  }\\n  \\n  .bold-text[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n  }\\n  \\n  .details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    margin-bottom: 10px;\\n  }\\n\\n  .prev-next[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    background-color: #007AFF;\\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  .prev-next[_ngcontent-%COMP%]:hover {\\n    background-color: #0056B3;\\n  }\\n  \\n  .pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    margin: 0 10px;\\n    font-size: 16px;\\n  }\\n  \\n  .prev-button[_ngcontent-%COMP%], .next-button[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    background-color: #007AFF;\\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  .prev-button[_ngcontent-%COMP%]:hover:not([disabled]), .next-button[_ngcontent-%COMP%]:hover:not([disabled]) {\\n    background-color: #0056B3;\\n  }\\n  \\n  .prev-button[_ngcontent-%COMP%]:disabled, .next-button[_ngcontent-%COMP%]:disabled {\\n    background-color: #cccccc; \\n    cursor: not-allowed; \\n  }\\n  .back[_ngcontent-%COMP%] {\\n    flex: none;\\n    padding: 10px 20px;\\n    background-color: #007AFF; \\n    color: white;\\n    border: none;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n    margin-top: 10px;\\n}\\n\\n.back[_ngcontent-%COMP%]:hover {\\n    background-color: #0056B3;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvd2Vic2l0ZS1kZXRhaWwvd2Vic2l0ZS1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLFVBQVU7SUFDVixlQUFlO0FBQ25COztBQUVBO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUNBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsbUJBQW1CO0FBQ3ZCOzs7QUFHQTtJQUNJLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7QUFDQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0VBQ3JCOztFQUVBOztJQUVFLGFBQWE7SUFDYixtQkFBbUI7RUFDckI7O0VBRUE7O0lBRUUsa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsZUFBZTtJQUNmLGVBQWU7RUFDakI7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixzQ0FBc0M7RUFDeEM7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxXQUFXO0lBQ1gseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0Usc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxjQUFjO0lBQ2QscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0UsMEJBQTBCO0VBQzVCO0VBQ0E7SUFDRSx5QkFBeUI7SUFDekIsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixjQUFjO0lBQ2QsZ0JBQWdCO0lBQ2hCLDJDQUEyQztJQUMzQyx1QkFBa0I7SUFBbEIsa0JBQWtCO0lBQ2xCLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLDhCQUE4QjtJQUM5QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxlQUFlO0lBQ2YsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsaUJBQWlCO0VBQ25COztFQUVBO0lBQ0UsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysc0NBQXNDO0VBQ3hDOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGVBQWU7RUFDakI7O0VBRUE7O0lBRUUsa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysc0NBQXNDO0VBQ3hDOztFQUVBOztJQUVFLHlCQUF5QjtFQUMzQjs7RUFFQTs7SUFFRSx5QkFBeUI7SUFDekIsbUJBQW1CO0VBQ3JCO0VBQ0E7SUFDRSxVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysc0NBQXNDO0lBQ3RDLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3QiIsInNvdXJjZXNDb250ZW50IjpbIi5uZXctd2Vic2l0ZSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyBcbn1cblxuLmJvbGQtdGV4dCB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlucHV0IHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7IFxuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIHdpZHRoOiAyMCU7XG4gICAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4ucmVzdWx0LWNvbnRhaW5lciB7XG4gIGhlaWdodDogMzBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbmgxIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICMzMzM7XG59XG5cbmRpdiB7XG4gICAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxubGFiZWwge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cblxuLmFkZC1idXR0b24ge1xuICAgIGZsZXg6IG5vbmU7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdBRkY7IFxuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcbn1cblxuLmFkZC1idXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2QjM7XG59XG4uZmlsdGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG4gIFxuICAjc29ydGluZ0J1dHRvbnMsXG4gICNteUJ0bkNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG4gIFxuICAjc29ydGluZ0J1dHRvbnMgYnV0dG9uLFxuICAjbXlCdG5Db250YWluZXIgc2VsZWN0IHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGhlaWdodDogNTVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gIH1cbiAgXG4gICNzb3J0aW5nQnV0dG9ucyBidXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdBRkY7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcbiAgfVxuICBcbiAgI3NvcnRpbmdCdXR0b25zIGJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZCMztcbiAgfVxuXG4gIC53ZWJzaXRlLXBhZ2VzIHtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICB9XG4gIFxuICAucGFnZXMtdGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gIH1cbiAgXG4gIC5wYWdlcy10YWJsZSB0aCwgLnBhZ2VzLXRhYmxlIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG4gIFxuICAucGFnZXMtdGFibGUgdGgge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XG4gIH1cbiAgXG4gIC5wYWdlcy10YWJsZSB0Ym9keSB0cjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgfVxuICBcbiAgLnBhZ2VzLXRhYmxlIGEge1xuICAgIGNvbG9yOiAjMDA3QUZGO1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgfVxuICBcbiAgLnBhZ2VzLXRhYmxlIGE6aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB9XG4gIC5kZXRhaWxzLWNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIHdpZHRoOiBmaXQtY29udGVudDsgXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyBcbiAgfVxuICBcbiAgLmRldGFpbHMge1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuICBcbiAgLmRldGFpbHMgaDIge1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICB9XG4gIFxuICAuYm9sZC10ZXh0IHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICBcbiAgLmRldGFpbHMgZGl2IHtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLnByZXYtbmV4dCB7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdBRkY7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xuICB9XG4gIFxuICAucHJldi1uZXh0OmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NkIzO1xuICB9XG4gIFxuICAucGFnaW5hdGlvbiBzcGFuIHtcbiAgICBtYXJnaW46IDAgMTBweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gIH1cbiAgXG4gIC5wcmV2LWJ1dHRvbixcbiAgLm5leHQtYnV0dG9uIHtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN0FGRjtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XG4gIH1cbiAgXG4gIC5wcmV2LWJ1dHRvbjpob3Zlcjpub3QoW2Rpc2FibGVkXSksXG4gIC5uZXh0LWJ1dHRvbjpob3Zlcjpub3QoW2Rpc2FibGVkXSkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2QjM7XG4gIH1cbiAgXG4gIC5wcmV2LWJ1dHRvbjpkaXNhYmxlZCxcbiAgLm5leHQtYnV0dG9uOmRpc2FibGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjY2NjOyBcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOyBcbiAgfVxuICAuYmFjayB7XG4gICAgZmxleDogbm9uZTtcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN0FGRjsgXG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5iYWNrOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NkIzO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["isUrl","tap","i0","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","ctx_r1","website","lastEvaluationDate","ɵɵelementStart","ɵɵelementEnd","ctx_r5","resultMessage","page_r8","ɵɵtemplate","WebsiteDetailComponent_div_0_tr_46_ng_container_4_Template","WebsiteDetailComponent_div_0_tr_46_ng_template_5_Template","ɵɵtemplateRefExtractor","url","ɵɵproperty","_r10","monitoringStatus","WebsiteDetailComponent_div_0_ng_container_21_Template","WebsiteDetailComponent_div_0_ng_template_22_Template","ɵɵelement","ɵɵlistener","WebsiteDetailComponent_div_0_Template_button_click_28_listener","ɵɵrestoreView","_r14","_r4","ɵɵreference","ctx_r13","ɵɵnextContext","add","value","ɵɵresetView","WebsiteDetailComponent_div_0_div_31_Template","WebsiteDetailComponent_div_0_div_33_Template","WebsiteDetailComponent_div_0_Template_th_click_40_listener","ctx_r15","sortByLastEvaluationDate","WebsiteDetailComponent_div_0_tr_46_Template","WebsiteDetailComponent_div_0_Template_button_click_48_listener","ctx_r16","prevPage","WebsiteDetailComponent_div_0_Template_button_click_52_listener","ctx_r17","nextPage","ɵɵtextInterpolate1","ctx_r0","id","registrationDate","_r2","pages","ɵɵpureFunction2","_c0","lastEvaluationDateAsc","slice","calculateIndex","startIndex","endIndex","currentPage","ɵɵtextInterpolate2","totalPages","WebsiteDetailComponent","constructor","route","websiteService","location","pageSize","itemsPerPage","filteredPages","ngOnInit","getWebsite","String","snapshot","paramMap","get","subscribe","goBack","back","isValidWebsite","Math","ceil","length","min","pageUrl","getWebsites","websitesList","web","includes","getPages","pagesList","inBD","console","log","page","webPage","addPage","pipe","response","push","updateWebsite","sortByRegistrationDate","filteredWebsites","sort","a","b","orderFactor","registrationDateAsc","Date","getTime","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","WebsiteService","i3","Location","_2","selectors","decls","vars","consts","template","WebsiteDetailComponent_Template","rf","ctx","WebsiteDetailComponent_div_0_Template","WebsiteDetailComponent_Template_button_click_1_listener"],"sources":["C:\\Faculdade\\PSI2324\\Projeto-PSI\\frontend\\src\\app\\website-detail\\website-detail.component.ts","C:\\Faculdade\\PSI2324\\Projeto-PSI\\frontend\\src\\app\\website-detail\\website-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Website } from '../Website';\nimport { WebsiteService } from '../website.service';\nimport { Location } from '@angular/common'\nimport { WebsitePage } from '../WebsitePage';\nimport isUrl from 'is-url';\nimport { tap } from 'rxjs';\n\n@Component({\n  selector: 'app-website-detail',\n  templateUrl: './website-detail.component.html',\n  styleUrls: ['./website-detail.component.css']\n})\n\nexport class WebsiteDetailComponent implements OnInit {\n  website: Website | undefined;\n  resultMessage: string = '';\n  pageSize: number = 10;\n  currentPage: number = 1;\n  itemsPerPage: number = 10;\n  \n  constructor(\n    private route: ActivatedRoute,\n    private websiteService: WebsiteService,\n    private location: Location\n  ) {this.filteredPages = this.pages;}\n\n  \n  filteredPages: WebsitePage[] = []; \n  pages: WebsitePage[] = [];\n  lastEvaluationDateAsc: boolean = false; \n\n  ngOnInit(): void {\n    this.getWebsite();\n  }\n\n  getWebsite(): void {\n    const id = String(this.route.snapshot.paramMap.get('_id'));\n    this.websiteService.getWebsite(id).subscribe((website) => (this.website = website));\n  }\n\n  goBack(): void{\n    this.location.back();\n  } \n\n  isValidWebsite(url: string): boolean {\n    return isUrl(url);\n  }\n\n  get totalPages() {\n    if (this.website) {\n      return Math.ceil(this.website.pages.length / this.pageSize);\n    } else {\n      return 0;\n    }\n  }\n  \n\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n    }\n  }\n  calculateIndex() {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = this.website && this.website.pages ? Math.min(startIndex + this.itemsPerPage, this.website.pages.length) : 0;\n    return { startIndex, endIndex };\n  }\n\n  add(pageUrl: string) {\n    pageUrl\n    if (!pageUrl) { \n      this.resultMessage = \"Por favor insira o URL do website\"\n    } else {\n      if(this.isValidWebsite(pageUrl)){\n        var website: Website | null = null; \n        this.websiteService.getWebsites().subscribe((websitesList) => {\n          for(const web of websitesList) {\n            if(pageUrl.includes(web.url)){\n              website = web;\n            }\n          }\n          if(website != null && this.website != null){\n            if(website.url === this.website.url) {\n              this.websiteService.getPages().subscribe((pagesList) => {\n                var inBD: boolean = false;\n                \n                console.log(pagesList)\n                for(const page of pagesList){\n                      if(pageUrl == page.url) {\n                        this.resultMessage = \"Página já no banco de dados\";\n                        inBD = true;\n                  }\n                }\n                if (!inBD) {\n                  var webPage: WebsitePage = {\n                    url: pageUrl,\n                    monitoringStatus: 'Por avaliar',\n                  }; \n                \n                  this.websiteService.addPage(webPage)\n                    .pipe(\n                      tap((response: WebsitePage) => {\n                        webPage = response;\n                      })\n                    )\n                    .subscribe(() => {\n                      if (website) {\n                        website.pages.push(webPage);\n                        this.websiteService.updateWebsite(website)\n                          .subscribe((response: string) => {\n                            this.resultMessage = response;\n                          });\n                        \n                      }\n                    });\n                 // window.location.reload();\n                }\n              });\n            } else {\n              this.resultMessage = \"A página não faz parte do domínio do website\"; \n            }\n            \n          } else {\n            this.resultMessage = \"O site correspondente não existe no BD\"\n          }\n        });\n      }else {\n          this.resultMessage = \"URL inválido – formato de exemplo: https://www.example.com\";\n      }\n    }\n  }\n\n  sortByRegistrationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.registrationDateAsc ? 1 : -1;\n      return orderFactor * (new Date(a.registrationDate).getTime() - new Date(b.registrationDate).getTime());\n    });\n    this.registrationDateAsc = !this.registrationDateAsc; \n  }\n}\n","<div *ngIf=\"website\"> \n    <div class=\"details-container\">\n      <div class=\"details\">\n        <h2>Detalhes de {{ website.url }}</h2>\n        <div>\n          <span class=\"bold-text\">Id:</span> {{ website.id }}\n        </div>\n        <div>\n          <span class=\"bold-text\">Url:</span> {{ website.url }}\n        </div>\n        <div>\n          <span class=\"bold-text\">Data de Registro:</span> {{ website.registrationDate | date:'dd/MM/yyyy HH:mm:ss' }}\n        </div>\n        <div>\n          <span class=\"bold-text\">Última Avaliação: </span>\n          <ng-container *ngIf=\"website.lastEvaluationDate; else none\">{{ website.lastEvaluationDate | date:'dd/MM/yyyy HH:mm:ss' }}</ng-container>\n          <ng-template #none>Sem Avaliações</ng-template>\n        </div>\n      </div>\n    </div>\n    \n  \n      <hr>\n      <div class=\"new-page\">\n        <input id=\"new-page\" #pageUrl placeholder=\"Adicionar uma nova página\" />\n        \n        <button type=\"button\" class=\"add-button\" (click)=\"add(pageUrl.value); pageUrl.value=''\">\n          Adicionar Página\n        </button>\n      </div>\n      <div class=\"result-container\">\n        <div *ngIf=\"resultMessage\" class=\"result-message\">{{ resultMessage }}</div>\n      </div>\n    \n  \n      <hr>\n      \n      <div *ngIf=\"website.pages\">\n        <div class=\"website-pages\">\n          <span class=\"bold-text\">Páginas: </span>\n        </div>\n      </div>\n  \n      <div class=\"website-pages\">\n        <table class=\"pages-table\">\n          <thead>\n            <tr>\n              <th>URL</th>\n              <th (click)=\"sortByLastEvaluationDate()\">\n                Última Avaliação <i class=\"fas fa-sort\" [ngClass]=\"{'fa-sort-up': lastEvaluationDateAsc, 'fa-sort-down': !lastEvaluationDateAsc}\"></i>\n              </th>\n              <th>Estado</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let page of website.pages.slice(calculateIndex().startIndex, calculateIndex().endIndex)\">\n              <td>{{ page.url }}</td>\n              <td>\n                <ng-container *ngIf=\"page.lastEvaluationDate; else none\">{{ page.lastEvaluationDate | date:'dd/MM/yyyy HH:mm:ss' }}</ng-container>\n                <ng-template #none>Sem Avaliações</ng-template>\n              </td>\n              <td>{{ page.monitoringStatus }}</td>\n            </tr>\n          </tbody>\n        </table>      \n      </div>\n      <div class=\"pagination\">\n        <button class=\"prev-next prev-button\" (click)=\"prevPage()\" [disabled]=\"currentPage === 1\">Anterior</button>\n        <span>Página: {{currentPage}} de {{totalPages}}</span>\n        <button class=\"prev-next prev-button\" (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\">Próximo</button>\n      </div>\n  </div>\n    \n  \n  <button class=\"back\" type=\"button\" (click)=\"goBack()\">Voltar</button>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}