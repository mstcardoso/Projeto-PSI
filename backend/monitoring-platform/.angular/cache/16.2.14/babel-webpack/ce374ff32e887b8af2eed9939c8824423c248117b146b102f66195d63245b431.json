{"ast":null,"code":"import isUrl from 'is-url';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../website.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction DashboardComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.resultMessage);\n  }\n}\nfunction DashboardComponent_ng_container_45_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const website_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, website_r3.lastEvaluationDate, \"dd/MM/yyyy HH:mm:ss\"));\n  }\n}\nfunction DashboardComponent_ng_container_45_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Sem Avalia\\u00E7\\u00F5es\");\n  }\n}\nfunction DashboardComponent_ng_container_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, DashboardComponent_ng_container_45_ng_container_8_Template, 3, 4, \"ng-container\", 24);\n    i0.ɵɵtemplate(9, DashboardComponent_ng_container_45_ng_template_9_Template, 1, 0, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"a\", 26);\n    i0.ɵɵtext(15, \"Detalhes\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const website_r3 = ctx.$implicit;\n    const _r5 = i0.ɵɵreference(10);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(website_r3.url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 6, website_r3.registrationDate, \"dd/MM/yyyy HH:mm:ss\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", website_r3.lastEvaluationDate)(\"ngIfElse\", _r5);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(website_r3.monitoringStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/website/\" + website_r3.id);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"fa-sort-up\": a0,\n    \"fa-sort-down\": a1\n  };\n};\nexport class DashboardComponent {\n  constructor(websiteService) {\n    this.websiteService = websiteService;\n    this.resultMessage = '';\n    this.selectedStatus = 'Todos';\n    this.filteredWebsites = [];\n    this.websites = [];\n    this.registrationDateAsc = false;\n    this.lastEvaluationDateAsc = false;\n    this.pageSize = 10;\n    this.currentPage = 1;\n    this.itemsPerPage = 10;\n    this.filteredWebsites = this.websites;\n  }\n  ngOnInit() {\n    this.getWebsites();\n  }\n  getWebsites() {\n    this.websiteService.getWebsites().subscribe(websites => {\n      this.websites = websites;\n      this.filterWebsites();\n    });\n  }\n  filterSelection(event) {\n    const selectedValue = event.target.value;\n    if (selectedValue) {\n      this.selectedStatus = selectedValue;\n    }\n    this.filterWebsites();\n  }\n  filterWebsites() {\n    if (this.selectedStatus === 'Todos') {\n      this.filteredWebsites = this.websites;\n    } else {\n      this.filteredWebsites = this.websites.filter(website => website.monitoringStatus === this.selectedStatus);\n    }\n  }\n  sortByRegistrationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.registrationDateAsc ? 1 : -1;\n      return orderFactor * (new Date(a.registrationDate).getTime() - new Date(b.registrationDate).getTime());\n    });\n    this.registrationDateAsc = !this.registrationDateAsc;\n  }\n  sortByLastEvaluationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.lastEvaluationDateAsc ? 1 : -1;\n      if (!a.lastEvaluationDate) return 1;\n      if (!b.lastEvaluationDate) return -1;\n      return orderFactor * (new Date(a.lastEvaluationDate).getTime() - new Date(b.lastEvaluationDate).getTime());\n    });\n    this.lastEvaluationDateAsc = !this.lastEvaluationDateAsc;\n  }\n  isValidWebsite(url) {\n    return isUrl(url);\n  }\n  add(websiteUrl) {\n    if (!websiteUrl) {\n      this.resultMessage = \"Por favor insira o URL do site\";\n    } else {\n      if (this.isValidWebsite(websiteUrl)) {\n        var websites = [];\n        this.websiteService.getWebsites().subscribe(websites => {\n          console.log(\"websites: \" + websites);\n          for (var web of websites) {\n            if (web.url == websiteUrl) {\n              //TODO\n              this.resultMessage = \"Website já na BD\";\n              return;\n            }\n          }\n          const newWebsite = {\n            url: websiteUrl,\n            monitoringStatus: 'Por avaliar',\n            registrationDate: new Date(),\n            pages: []\n          };\n          this.websiteService.addWebsite(newWebsite).subscribe(response => {\n            this.resultMessage = response;\n            this.getWebsites();\n            this.filterWebsites();\n          });\n        });\n      } else {\n        this.resultMessage = \"URL inválido – formato de exemplo: https://www.example.com\";\n      }\n    }\n  }\n  get totalPages() {\n    return Math.ceil(this.websites.length / this.pageSize);\n  }\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n    }\n  }\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n    }\n  }\n  calculateIndex() {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = Math.min(startIndex + this.itemsPerPage, this.filteredWebsites.length);\n    return {\n      startIndex,\n      endIndex\n    };\n  }\n  static #_ = this.ɵfac = function DashboardComponent_Factory(t) {\n    return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.WebsiteService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DashboardComponent,\n    selectors: [[\"app-dashboard\"]],\n    decls: 53,\n    vars: 19,\n    consts: [[1, \"new-website\"], [\"id\", \"new-website\", \"placeholder\", \"Adicionar um novo site\"], [\"websiteUrl\", \"\"], [\"type\", \"button\", 1, \"add-button\", 3, \"click\"], [1, \"result-container\"], [\"class\", \"result-message\", 4, \"ngIf\"], [1, \"filter\"], [\"id\", \"sortingButtons\"], [1, \"btn\", 3, \"click\"], [\"id\", \"myBtnContainer\"], [3, \"change\"], [\"value\", \"Todos\", 3, \"selected\"], [\"value\", \"Por avaliar\", 3, \"selected\"], [\"value\", \"Em avalia\\u00E7\\u00E3o\", 3, \"selected\"], [\"value\", \"Avaliado\", 3, \"selected\"], [\"value\", \"Erro na avalia\\u00E7\\u00E3o\", 3, \"selected\"], [1, \"websites\"], [1, \"website-table\"], [3, \"click\"], [1, \"fas\", \"fa-sort\", 3, \"ngClass\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pagination\"], [1, \"prev-next\", \"prev-button\", 3, \"disabled\", \"click\"], [1, \"result-message\"], [4, \"ngIf\", \"ngIfElse\"], [\"none\", \"\"], [3, \"routerLink\"]],\n    template: function DashboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r8 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"input\", 1, 2);\n        i0.ɵɵelementStart(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_3_listener() {\n          i0.ɵɵrestoreView(_r8);\n          const _r0 = i0.ɵɵreference(2);\n          ctx.add(_r0.value);\n          return i0.ɵɵresetView(_r0.value = \"\");\n        });\n        i0.ɵɵtext(4, \" Adicionar site \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtemplate(6, DashboardComponent_div_6_Template, 2, 1, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"hr\");\n        i0.ɵɵelementStart(8, \"h2\");\n        i0.ɵɵtext(9, \"Meus sites\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_12_listener() {\n          return ctx.sortByRegistrationDate();\n        });\n        i0.ɵɵtext(13, \"Sort by Registration Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_14_listener() {\n          return ctx.sortByLastEvaluationDate();\n        });\n        i0.ɵɵtext(15, \"Sort by Last Evaluation Date\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 9)(17, \"select\", 10);\n        i0.ɵɵlistener(\"change\", function DashboardComponent_Template_select_change_17_listener($event) {\n          return ctx.filterSelection($event);\n        });\n        i0.ɵɵelementStart(18, \"option\", 11);\n        i0.ɵɵtext(19, \"Todos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"option\", 12);\n        i0.ɵɵtext(21, \"Por Avaliar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"option\", 13);\n        i0.ɵɵtext(23, \"Em Avalia\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"option\", 14);\n        i0.ɵɵtext(25, \"Avaliado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"option\", 15);\n        i0.ɵɵtext(27, \"Erro na avalia\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(28, \"div\", 16)(29, \"table\", 17)(30, \"thead\")(31, \"tr\")(32, \"th\");\n        i0.ɵɵtext(33, \"URL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"th\", 18);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_th_click_34_listener() {\n          return ctx.sortByRegistrationDate();\n        });\n        i0.ɵɵtext(35, \" Data de Registro \");\n        i0.ɵɵelement(36, \"i\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"th\", 18);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_th_click_37_listener() {\n          return ctx.sortByLastEvaluationDate();\n        });\n        i0.ɵɵtext(38, \" \\u00DAltima Avalia\\u00E7\\u00E3o \");\n        i0.ɵɵelement(39, \"i\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\");\n        i0.ɵɵtext(41, \"Estado\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\");\n        i0.ɵɵtext(43, \"Detalhes\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"tbody\");\n        i0.ɵɵtemplate(45, DashboardComponent_ng_container_45_Template, 16, 9, \"ng-container\", 20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(46, \"div\", 21)(47, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_47_listener() {\n          return ctx.prevPage();\n        });\n        i0.ɵɵtext(48, \"Anterior\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"span\");\n        i0.ɵɵtext(50);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_51_listener() {\n          return ctx.nextPage();\n        });\n        i0.ɵɵtext(52, \"Pr\\u00F3ximo\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.resultMessage);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"selected\", ctx.selectedStatus === \"Todos\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"selected\", ctx.selectedStatus === \"Por avaliar\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"selected\", ctx.selectedStatus === \"Em avalia\\u00E7\\u00E3o\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"selected\", ctx.selectedStatus === \"Avaliado\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"selected\", ctx.selectedStatus === \"Erro na avalia\\u00E7\\u00E3o\");\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(13, _c0, ctx.registrationDateAsc, !ctx.registrationDateAsc));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(16, _c0, ctx.lastEvaluationDateAsc, !ctx.lastEvaluationDateAsc));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredWebsites.slice(ctx.calculateIndex().startIndex, ctx.calculateIndex().endIndex));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage === 1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"P\\u00E1gina: \", ctx.currentPage, \" de \", ctx.totalPages, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.currentPage === ctx.totalPages);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.RouterLink, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i2.DatePipe],\n    styles: [\".new-website[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center; \\n}\\n  \\ninput[_ngcontent-%COMP%] {\\n    margin-right: 10px; \\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    height: 30px;\\n    width: 20%;\\n    font-size: 16px;\\n}\\n.result-container[_ngcontent-%COMP%] {\\n    height: 30px;\\n    margin-bottom: 10px;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    font-weight: bold;\\n    color: #333;\\n}\\n\\ndiv[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 10px;\\n}\\n\\n\\n.add-button[_ngcontent-%COMP%] {\\n  flex: none;\\n  padding: 10px 20px;\\n  background-color: #007AFF; \\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.add-button[_ngcontent-%COMP%]:hover {\\n  background-color: #0056B3;\\n}\\n.filter[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n#sortingButtons[_ngcontent-%COMP%], #myBtnContainer[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n#sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #myBtnContainer[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n  padding: 10px 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  height: 55px;\\n  background-color: #fff;\\n  cursor: pointer;\\n  font-size: 16px;\\n}\\n\\n#sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background-color: #007AFF;\\n  color: white;\\n  border: none;\\n  transition: background-color 0.3s ease;\\n}\\n\\n#sortingButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n  background-color: #0056B3;\\n}\\n.websites[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.website-table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.website-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .website-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  border: 1px solid #ddd;\\n  padding: 8px;\\n  text-align: left;\\n}\\n\\n.website-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n}\\n\\n.website-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #f9f9f9;\\n}\\n\\n.website-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: #007AFF;\\n  text-decoration: none;\\n}\\n\\n.website-table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.pagination[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  margin-top: 20px;\\n}\\n\\n.prev-next[_ngcontent-%COMP%] {\\n  padding: 10px 20px;\\n  background-color: #007AFF;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.prev-next[_ngcontent-%COMP%]:hover {\\n  background-color: #0056B3;\\n}\\n\\n.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  margin: 0 10px;\\n  font-size: 16px;\\n}\\n\\n.prev-button[_ngcontent-%COMP%], .next-button[_ngcontent-%COMP%] {\\n  padding: 10px 20px;\\n  background-color: #007AFF;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.prev-button[_ngcontent-%COMP%]:hover:not([disabled]), .next-button[_ngcontent-%COMP%]:hover:not([disabled]) {\\n  background-color: #0056B3;\\n}\\n\\n.prev-button[_ngcontent-%COMP%]:disabled, .next-button[_ngcontent-%COMP%]:disabled {\\n  background-color: #cccccc; \\n  cursor: not-allowed; \\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osVUFBVTtJQUNWLGVBQWU7QUFDbkI7QUFDQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxtQkFBbUI7QUFDdkI7OztBQUdBO0VBQ0UsVUFBVTtFQUNWLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLHNDQUFzQztBQUN4Qzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7QUFDckI7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFFQTs7RUFFRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixlQUFlO0VBQ2YsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osWUFBWTtFQUNaLHNDQUFzQztBQUN4Qzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjtBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBRUE7O0VBRUUsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysc0NBQXNDO0FBQ3hDOztBQUVBOztFQUVFLHlCQUF5QjtBQUMzQjs7QUFFQTs7RUFFRSx5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLm5ldy13ZWJzaXRlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IFxufVxuICBcbmlucHV0IHtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7IFxuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIHdpZHRoOiAyMCU7XG4gICAgZm9udC1zaXplOiAxNnB4O1xufVxuLnJlc3VsdC1jb250YWluZXIge1xuICAgIGhlaWdodDogMzBweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5oMSB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMzMzO1xufVxuXG5kaXYge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbmxhYmVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG5cbi5hZGQtYnV0dG9uIHtcbiAgZmxleDogbm9uZTtcbiAgcGFkZGluZzogMTBweCAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3QUZGOyBcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcbn1cblxuLmFkZC1idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NkIzO1xufVxuLmZpbHRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI3NvcnRpbmdCdXR0b25zLFxuI215QnRuQ29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI3NvcnRpbmdCdXR0b25zIGJ1dHRvbixcbiNteUJ0bkNvbnRhaW5lciBzZWxlY3Qge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBoZWlnaHQ6IDU1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4jc29ydGluZ0J1dHRvbnMgYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN0FGRjtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xufVxuXG4jc29ydGluZ0J1dHRvbnMgYnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZCMztcbn1cbi53ZWJzaXRlcyB7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG5cbi53ZWJzaXRlLXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG5cbi53ZWJzaXRlLXRhYmxlIHRoLCAud2Vic2l0ZS10YWJsZSB0ZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIHBhZGRpbmc6IDhweDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLndlYnNpdGUtdGFibGUgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xufVxuXG4ud2Vic2l0ZS10YWJsZSB0Ym9keSB0cjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XG59XG5cbi53ZWJzaXRlLXRhYmxlIGEge1xuICBjb2xvcjogIzAwN0FGRjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG4ud2Vic2l0ZS10YWJsZSBhOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi5wYWdpbmF0aW9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuLnByZXYtbmV4dCB7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN0FGRjtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcbn1cblxuLnByZXYtbmV4dDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDU2QjM7XG59XG5cbi5wYWdpbmF0aW9uIHNwYW4ge1xuICBtYXJnaW46IDAgMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4ucHJldi1idXR0b24sXG4ubmV4dC1idXR0b24ge1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDdBRkY7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XG59XG5cbi5wcmV2LWJ1dHRvbjpob3Zlcjpub3QoW2Rpc2FibGVkXSksXG4ubmV4dC1idXR0b246aG92ZXI6bm90KFtkaXNhYmxlZF0pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZCMztcbn1cblxuLnByZXYtYnV0dG9uOmRpc2FibGVkLFxuLm5leHQtYnV0dG9uOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYzsgXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7IFxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["isUrl","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","resultMessage","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵpipeBind2","website_r3","lastEvaluationDate","ɵɵtemplate","DashboardComponent_ng_container_45_ng_container_8_Template","DashboardComponent_ng_container_45_ng_template_9_Template","ɵɵtemplateRefExtractor","url","registrationDate","ɵɵproperty","_r5","monitoringStatus","id","DashboardComponent","constructor","websiteService","selectedStatus","filteredWebsites","websites","registrationDateAsc","lastEvaluationDateAsc","pageSize","currentPage","itemsPerPage","ngOnInit","getWebsites","subscribe","filterWebsites","filterSelection","event","selectedValue","target","value","filter","website","sortByRegistrationDate","sort","a","b","orderFactor","Date","getTime","sortByLastEvaluationDate","isValidWebsite","add","websiteUrl","console","log","web","newWebsite","pages","addWebsite","response","totalPages","Math","ceil","length","nextPage","prevPage","calculateIndex","startIndex","endIndex","min","_","ɵɵdirectiveInject","i1","WebsiteService","_2","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","DashboardComponent_Template_button_click_3_listener","ɵɵrestoreView","_r8","_r0","ɵɵreference","ɵɵresetView","DashboardComponent_div_6_Template","DashboardComponent_Template_button_click_12_listener","DashboardComponent_Template_button_click_14_listener","DashboardComponent_Template_select_change_17_listener","$event","DashboardComponent_Template_th_click_34_listener","DashboardComponent_Template_th_click_37_listener","DashboardComponent_ng_container_45_Template","DashboardComponent_Template_button_click_47_listener","DashboardComponent_Template_button_click_51_listener","ɵɵpureFunction2","_c0","slice","ɵɵtextInterpolate2"],"sources":["/home/PSI040/projeto/frontend/src/app/dashboard/dashboard.component.ts","/home/PSI040/projeto/frontend/src/app/dashboard/dashboard.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Website } from '../Website';\nimport { WebsiteService } from '../website.service';\nimport isUrl from 'is-url';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent {\n\n  constructor( private websiteService: WebsiteService,) {this.filteredWebsites = this.websites;}\n  resultMessage: string = '';\n\n  selectedStatus: string = 'Todos';\n  filteredWebsites: Website[] = []; \n  websites: Website[] = [];\n  registrationDateAsc: boolean = false;\n  lastEvaluationDateAsc: boolean = false; \n  pageSize: number = 10;\n  currentPage: number = 1;\n  itemsPerPage: number = 10;\n\n  ngOnInit(): void {\n    this.getWebsites();\n  }\n\n  getWebsites(): void {\n    this.websiteService.getWebsites().subscribe((websites) =>{ (this.websites = websites); this.filterWebsites();});\n  }\n\n  filterSelection(event: Event) {\n    const selectedValue = (event.target as HTMLSelectElement).value;\n    if (selectedValue) {\n      this.selectedStatus = selectedValue;\n    }\n    this.filterWebsites();\n  }\n  \n  \n  filterWebsites() {\n    if (this.selectedStatus === 'Todos') {\n      this.filteredWebsites = this.websites;\n    } else {\n      this.filteredWebsites = this.websites.filter(website => website.monitoringStatus === this.selectedStatus);\n    }\n  }\n\n  sortByRegistrationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.registrationDateAsc ? 1 : -1;\n      return orderFactor * (new Date(a.registrationDate).getTime() - new Date(b.registrationDate).getTime());\n    });\n    this.registrationDateAsc = !this.registrationDateAsc; \n  }\n\n  sortByLastEvaluationDate() {\n    this.filteredWebsites.sort((a, b) => {\n      const orderFactor = this.lastEvaluationDateAsc ? 1 : -1;\n      if (!a.lastEvaluationDate) return 1;\n      if (!b.lastEvaluationDate) return -1;\n      return orderFactor * (new Date(a.lastEvaluationDate).getTime() - new Date(b.lastEvaluationDate).getTime());\n    });\n    this.lastEvaluationDateAsc = !this.lastEvaluationDateAsc; \n  }\n\n  isValidWebsite(url: string): boolean {\n    return isUrl(url);\n  }\n\n  add(websiteUrl: string) {\n    if (!websiteUrl) { \n      this.resultMessage = \"Por favor insira o URL do site\"\n    } else {\n      if(this.isValidWebsite(websiteUrl)) {\n        var websites: Website[] = [];\n        this.websiteService.getWebsites().subscribe((websites) => {\n          console.log(\"websites: \" + websites)\n          for(var web of websites) {\n            if(web.url == websiteUrl){ //TODO\n              this.resultMessage = \"Website já na BD\";\n              return; \n            }\n          }\n          const newWebsite: Website = {\n            url: websiteUrl,\n            monitoringStatus: 'Por avaliar',\n            registrationDate: new Date(),\n            pages: [],\n          };\n      \n          this.websiteService.addWebsite(newWebsite )\n            .subscribe((response: string) => {\n              this.resultMessage = response;\n          this.getWebsites();\n\t  this.filterWebsites();\n          });\n        });\n      } else {\n          this.resultMessage = \"URL inválido – formato de exemplo: https://www.example.com\";\n        }\n      }\n    }\n\n  get totalPages() {\n    return Math.ceil(this.websites.length / this.pageSize);\n  }\n\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n    }\n  }\n\n  prevPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n    }\n  }\n  calculateIndex() {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = Math.min(startIndex + this.itemsPerPage, this.filteredWebsites.length);\n    return { startIndex, endIndex };\n  }\n}\n","<div class=\"new-website\">\n    <input id=\"new-website\" #websiteUrl placeholder=\"Adicionar um novo site\" />\n    \n    <button type=\"button\" class=\"add-button\" (click)=\"add(websiteUrl.value); websiteUrl.value=''\">\n      Adicionar site\n    </button>\n  </div>\n  \n  <div class=\"result-container\">\n    <div *ngIf=\"resultMessage\" class=\"result-message\">{{ resultMessage }}</div>\n  </div>\n  \n  <hr>\n  \n  <h2>Meus sites</h2>\n  \n  <div class=\"filter\">\n    <div id=\"sortingButtons\">\n      <button class=\"btn\" (click)=\"sortByRegistrationDate()\">Sort by Registration Date</button>\n      <button class=\"btn\" (click)=\"sortByLastEvaluationDate()\">Sort by Last Evaluation Date</button>\n    </div>\n  \n    <div id=\"myBtnContainer\">\n      <select (change)=\"filterSelection($event)\">\n        <option value=\"Todos\" [selected]=\"selectedStatus === 'Todos'\">Todos</option>\n        <option value=\"Por avaliar\" [selected]=\"selectedStatus === 'Por avaliar'\">Por Avaliar</option>\n        <option value=\"Em avaliação\" [selected]=\"selectedStatus === 'Em avaliação'\">Em Avaliação</option>\n        <option value=\"Avaliado\" [selected]=\"selectedStatus === 'Avaliado'\">Avaliado</option>\n        <option value=\"Erro na avaliação\" [selected]=\"selectedStatus === 'Erro na avaliação'\">Erro na avaliação</option>\n      </select>\n    </div>\n  </div>\n  \n  <div class=\"websites\">\n    <table class=\"website-table\">\n      <thead>\n        <tr>\n          <th>URL</th>\n          <th (click)=\"sortByRegistrationDate()\">\n            Data de Registro <i class=\"fas fa-sort\" [ngClass]=\"{'fa-sort-up': registrationDateAsc, 'fa-sort-down': !registrationDateAsc}\"></i>\n          </th>\n          <th (click)=\"sortByLastEvaluationDate()\">\n            Última Avaliação <i class=\"fas fa-sort\" [ngClass]=\"{'fa-sort-up': lastEvaluationDateAsc, 'fa-sort-down': !lastEvaluationDateAsc}\"></i>\n          </th>\n          <th>Estado</th>\n          <th>Detalhes</th>\n        </tr>\n        \n      </thead>\n      <tbody>\n        <ng-container *ngFor=\"let website of filteredWebsites.slice(calculateIndex().startIndex, calculateIndex().endIndex)\">\n          <tr>\n            <td>{{ website.url }}</td>\n            <td>{{ website.registrationDate | date:'dd/MM/yyyy HH:mm:ss' }}</td>\n            <td>\n              <ng-container *ngIf=\"website.lastEvaluationDate; else none\">{{ website.lastEvaluationDate | date:'dd/MM/yyyy HH:mm:ss' }}</ng-container>\n              <ng-template #none>Sem Avaliações</ng-template>\n            </td>\n            <td>{{ website.monitoringStatus }}</td>\n            <td><a [routerLink]=\"'/website/' + website.id\">Detalhes</a></td>\n          </tr>\n        </ng-container>\n      </tbody>    \n    </table>\n    <div class=\"pagination\">\n      <button class=\"prev-next prev-button\" (click)=\"prevPage()\" [disabled]=\"currentPage === 1\">Anterior</button>\n      <span>Página: {{currentPage}} de {{totalPages}}</span>\n      <button class=\"prev-next prev-button\" (click)=\"nextPage()\" [disabled]=\"currentPage === totalPages\">Próximo</button>\n    </div>\n  </div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}